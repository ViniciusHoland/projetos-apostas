<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Jogos do Dia</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script>
      function adicionarAoBilhete(time, odd) {
        alert(`Adicionado ao bilhete:\nTime: ${time}\nOdd: ${odd}`);
        // Aqui você pode futuramente fazer um fetch para salvar no backend
      }

      function adicionarOddPersonalizada(idJogo) {
        const input = document.getElementById(`customOdd-${idJogo}`);
        const odd = input.value;
        if (!odd || isNaN(odd) || odd <= 1) {
          alert("Digite uma odd válida (maior que 1).");
          return;
        }
        alert(`Odd personalizada adicionada ao bilhete: ${odd}`);
        // Aqui você também pode enviar para o servidor se quiser
        input.value = "";
      }
    </script>
  </head>
  <body class="bg-light">
    <div class="container mt-5">
      <h1 class="mb-4 text-center">Jogos do Dia</h1>

      <% jogos.forEach((jogo, index) => { %>
      <div class="card mb-3">
        <div class="card-header">
          <strong><%= jogo.liga %></strong>
        </div>
        <div class="card-body">
          <h5><%= jogo.timeCasa %> vs <%= jogo.timeFora %></h5>
          <p>
            Data/Hora: <%= new Date(jogo.horario).toLocaleString('pt-BR') %>
          </p>
          <p><strong>Odds:</strong></p>
          <div class="d-flex gap-3 mb-3">
            <button
              class="btn btn-outline-primary"
              onclick="adicionarAoBilhete('<%= jogo.timeCasa %>', <%= jogo.odds.home %>)"
            >
              Casa: <%= jogo.odds.home %>
            </button>
            <button
              class="btn btn-outline-secondary"
              onclick="adicionarAoBilhete('Empate', <%= jogo.odds.draw %>)"
            >
              Empate: <%= jogo.odds.draw %>
            </button>
            <button
              class="btn btn-outline-danger"
              onclick="adicionarAoBilhete('<%= jogo.timeFora %>', <%= jogo.odds.away %>)"
            >
              Fora: <%= jogo.odds.away %>
            </button>
          </div>

          <!-- Campo para odd personalizada -->
          <div class="input-group mb-3">
            <input
              type="number"
              step="0.01"
              min="1.01"
              class="form-control"
              id="customOdd-<%= index %>"
              placeholder="Digite uma odd personalizada"
            />
            <button
              class="btn btn-success"
              type="button"
              onclick="adicionarOddPersonalizada(<%= index %>)"
            >
              Adicionar Odd Personalizada
            </button>
          </div>
        </div>
      </div>
      <% }) %>
    </div>
  </body>
</html>
